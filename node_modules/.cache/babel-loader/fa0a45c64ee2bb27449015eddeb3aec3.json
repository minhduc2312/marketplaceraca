{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import Card from\"./Card\";import SwapRacaToUSD from\"./SwapRaca\";import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper}from'@mui/material';import'../../styles/nfts.css';import{useSelector}from\"react-redux\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var getAPI=function getAPI(categoryId,size){return axios(\"https://market-api.radiocaca.com/nft-sales?pageSize=\".concat(size,\"&sortBy=fixed_price&order=asc&category=\").concat(categoryId,\"&tokenId=-1\"),{\"Access-Control-Allow-Origin\":\"*\"});};export function numberWithCommas(x){return x===null||x===void 0?void 0:x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}var PriceTable=function PriceTable(_ref){var hidden=_ref.hidden;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listMetamon=_useState2[0],setListMetamon=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listDiamond=_useState4[0],setListDiamond=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),listEgg=_useState6[0],setListEgg=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),listPotion=_useState8[0],setListPotion=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),kissUpLand=_useState10[0],setKissUpLand=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),tokenPrice=_useState12[0],setTokenPrice=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),timeUpdated=_useState14[0],setTimeUpdated=_useState14[1];var convertDateTime=function convertDateTime(){var now=new Date();setTimeUpdated(now.toLocaleString());};var _useSelector=useSelector(function(state){return state.price;}),raca=_useSelector.raca,elmon=_useSelector.elmon;var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",Promise.all([getAPI(13,10).then(function(res){return setListMetamon(res.data.list);}),getAPI(15,10).then(function(res){return setListPotion(res.data.list);}),getAPI(16,10).then(function(res){return setListDiamond(res.data.list);}),getAPI(17,10).then(function(res){return setListEgg(res.data.list);}),getAPI(20,1).then(function(res){var _document$querySelect;setKissUpLand(res.data.list[0]);(_document$querySelect=document.querySelector('.loading'))===null||_document$querySelect===void 0?void 0:_document$querySelect.classList.toggle('loading');})]));case 1:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref2.apply(this,arguments);};}();useEffect(function(){setTokenPrice(raca);},[raca]);useEffect(function(){getData();convertDateTime();// const formData = new FormData();\n// formData.append('address', \"0x769ba0cb0d89666f7506194d2cf416ea0f812e16\");\n// formData.append('sign', \"0x6987eccb7cdef2820794cfbd1067d7322175230d752c5a3f4ed2b5405d7cc2f63a3951cf7e2ba03f1ba447d6c720fc1eb304a2e2fd61b43f7afe72a2cff9d1b11c\");\n// formData.append('msg', \"LogIn-17816549-8c50-98b7-f684-163d8e0eaea4\");\n// const payload = {\n//     address: '0x769ba0cb0d89666f7506194d2cf416ea0f812e16',\n//     sign: '0x6987eccb7cdef2820794cfbd1067d7322175230d752c5a3f4ed2b5405d7cc2f63a3951cf7e2ba03f1ba447d6c720fc1eb304a2e2fd61b43f7afe72a2cff9d1b11c',\n//     msg: 'LogIn-17816549-8c50-98b7-f684-163d8e0eaea4',\n// }\n// axios({\n//     method: 'POST',\n//     url: 'https://metamon-api.radiocaca.com/usm-api/login',\n//     data: formData,\n//     headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//     }\n// }).then(function (response) {\n//     console.log(response.data)\n//     const formData1 = new FormData();\n//     formData1.append('address', '0x769ba0cb0d89666f7506194d2cf416ea0f812e16')\n//     axios({\n//         method: 'POST',\n//         url: 'https://metamon-api.radiocaca.com/usm-api/getBattleRecord',\n//         data: formData1,\n//         headers: {\n//             \"accessToken\": response.data.data\n//         }\n//     }).then(function (response) {\n//         console.log(response);\n//     })\n// })\n// .catch(function (error) {\n//     console.log(error);\n// });\nvar rerender=setInterval(function(){getData();convertDateTime();},20000);return function(){setListMetamon([]);setListDiamond([]);setListEgg([]);setListPotion([]);setKissUpLand({});setTokenPrice(0);clearInterval(rerender);};},[]);return/*#__PURE__*/_jsxs(\"div\",{hidden:hidden,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"tokenPrice\",children:[\"RACA Price: \",raca]}),/*#__PURE__*/_jsxs(\"p\",{className:\"tokenPrice\",children:[\"ELMON Price: \",elmon]})]}),/*#__PURE__*/_jsx(SwapRacaToUSD,{}),/*#__PURE__*/_jsx(\"p\",{id:\"timeUpdated\",children:timeUpdated}),/*#__PURE__*/_jsxs(\"div\",{className:\"pricetable\",children:[/*#__PURE__*/_jsx(TableContainer,{id:\"table-scroll\",component:Paper,children:/*#__PURE__*/_jsxs(Table,{id:\"tablePrice\",\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",height:\"50px\",src:\"/marketplaceraca/metamon.png\",alt:\"Metamon\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",height:\"50px\",src:\"/marketplaceraca/MetamonEgg.png\",alt:\"Egg\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",height:\"50px\",src:\"/marketplaceraca/DiamondYellow.png\",alt:\"DiamondYellow\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(\"img\",{style:{objectFit:'contain'},width:\"50px\",height:\"50px\",src:\"/marketplaceraca/potion.png\",alt:\"Potion\"})})]})}),/*#__PURE__*/_jsx(TableBody,{children:listEgg&&listMetamon&&listDiamond&&listPotion&&listEgg.map(function(child,index){var _listMetamon$index,_listMetamon$index2,_listEgg$index,_listEgg$index2,_listDiamond$index,_listDiamond$index2,_listPotion$index,_listPotion$index2;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:index+1}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[numberWithCommas(Math.floor((_listMetamon$index=listMetamon[index])===null||_listMetamon$index===void 0?void 0:_listMetamon$index.fixed_price)),\" (~\",(tokenPrice*((_listMetamon$index2=listMetamon[index])===null||_listMetamon$index2===void 0?void 0:_listMetamon$index2.fixed_price)).toFixed(2),\")\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[numberWithCommas(Math.floor((_listEgg$index=listEgg[index])===null||_listEgg$index===void 0?void 0:_listEgg$index.fixed_price)),\" (~\",(tokenPrice*((_listEgg$index2=listEgg[index])===null||_listEgg$index2===void 0?void 0:_listEgg$index2.fixed_price)).toFixed(2),\")\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[numberWithCommas(Math.floor((_listDiamond$index=listDiamond[index])===null||_listDiamond$index===void 0?void 0:_listDiamond$index.fixed_price)),\" (~\",(tokenPrice*((_listDiamond$index2=listDiamond[index])===null||_listDiamond$index2===void 0?void 0:_listDiamond$index2.fixed_price)).toFixed(2),\")\"]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[numberWithCommas(Math.floor((_listPotion$index=listPotion[index])===null||_listPotion$index===void 0?void 0:_listPotion$index.fixed_price)),\" (~\",(tokenPrice*((_listPotion$index2=listPotion[index])===null||_listPotion$index2===void 0?void 0:_listPotion$index2.fixed_price)).toFixed(2),\")\"]})]},index+1);})})]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"xike\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"X\\xECke Captain\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"Xike\",src:\"/marketplaceraca/xike.png\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cards\",children:[listMetamon[0]&&/*#__PURE__*/_jsxs(React.StrictMode,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:listMetamon[0]&&/*#__PURE__*/_jsx(Card,{nft:listMetamon[0]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:listMetamon[1]&&/*#__PURE__*/_jsx(Card,{nft:listMetamon[1]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:listMetamon[2]&&/*#__PURE__*/_jsx(Card,{nft:listMetamon[2]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:listMetamon[3]&&/*#__PURE__*/_jsx(Card,{nft:listMetamon[3]})})]}),listEgg[0]&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(Card,{nft:listEgg[0]})}),listDiamond[0]&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(Card,{nft:listDiamond[0]})}),listPotion[0]&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(Card,{nft:listPotion[0]})}),kissUpLand&&/*#__PURE__*/_jsx(\"div\",{className:\"card loading\",children:/*#__PURE__*/_jsx(Card,{nft:kissUpLand})})]})]});};export default PriceTable;","map":{"version":3,"sources":["C:/Users/minhd/Desktop/marketplaceraca/src/components/NFTs/PriceTable.js"],"names":["axios","React","useEffect","useState","Card","SwapRacaToUSD","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useSelector","getAPI","categoryId","size","numberWithCommas","x","toString","replace","PriceTable","hidden","listMetamon","setListMetamon","listDiamond","setListDiamond","listEgg","setListEgg","listPotion","setListPotion","kissUpLand","setKissUpLand","tokenPrice","setTokenPrice","timeUpdated","setTimeUpdated","convertDateTime","now","Date","toLocaleString","state","price","raca","elmon","getData","Promise","all","then","res","data","list","document","querySelector","classList","toggle","rerender","setInterval","clearInterval","objectFit","map","child","index","Math","floor","fixed_price","toFixed"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Card from \"./Card\";\r\nimport SwapRacaToUSD from \"./SwapRaca\";\r\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from '@mui/material';\r\nimport '../../styles/nfts.css';\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\n\r\nconst getAPI = (categoryId, size) => {\r\n    return axios(`https://market-api.radiocaca.com/nft-sales?pageSize=${size}&sortBy=fixed_price&order=asc&category=${categoryId}&tokenId=-1`, {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    });\r\n}\r\n\r\n\r\n\r\nexport function numberWithCommas(x) {\r\n    return x?.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n}\r\n\r\nconst PriceTable = ({ hidden }) => {\r\n    const [listMetamon, setListMetamon] = useState([]);\r\n    const [listDiamond, setListDiamond] = useState([]);\r\n    const [listEgg, setListEgg] = useState([]);\r\n    const [listPotion, setListPotion] = useState([]);\r\n    const [kissUpLand, setKissUpLand] = useState({});\r\n    const [tokenPrice, setTokenPrice] = useState(0);\r\n    const [timeUpdated, setTimeUpdated] = useState(\"\")\r\n\r\n    const convertDateTime = () => {\r\n        const now = new Date();\r\n        setTimeUpdated(now.toLocaleString())\r\n    }\r\n    const { raca, elmon } = useSelector(state => state.price)\r\n    const getData = async () => (\r\n        Promise.all([\r\n            getAPI(13, 10).then(res =>\r\n                setListMetamon(res.data.list)\r\n            ),\r\n            getAPI(15, 10).then(res =>\r\n                setListPotion(res.data.list)\r\n            ),\r\n            getAPI(16, 10).then(res =>\r\n                setListDiamond(res.data.list)\r\n            ),\r\n            getAPI(17, 10).then(res =>\r\n                setListEgg(res.data.list)\r\n            ),\r\n            getAPI(20, 1).then(res => {\r\n                setKissUpLand(res.data.list[0]);\r\n                document.querySelector('.loading')?.classList.toggle('loading');\r\n            }),\r\n\r\n        ])\r\n    )\r\n    useEffect(() => {\r\n        setTokenPrice(raca)\r\n    }, [raca])\r\n    useEffect(() => {\r\n        getData();\r\n        convertDateTime()\r\n        // const formData = new FormData();\r\n        // formData.append('address', \"0x769ba0cb0d89666f7506194d2cf416ea0f812e16\");\r\n        // formData.append('sign', \"0x6987eccb7cdef2820794cfbd1067d7322175230d752c5a3f4ed2b5405d7cc2f63a3951cf7e2ba03f1ba447d6c720fc1eb304a2e2fd61b43f7afe72a2cff9d1b11c\");\r\n        // formData.append('msg', \"LogIn-17816549-8c50-98b7-f684-163d8e0eaea4\");\r\n        // const payload = {\r\n        //     address: '0x769ba0cb0d89666f7506194d2cf416ea0f812e16',\r\n        //     sign: '0x6987eccb7cdef2820794cfbd1067d7322175230d752c5a3f4ed2b5405d7cc2f63a3951cf7e2ba03f1ba447d6c720fc1eb304a2e2fd61b43f7afe72a2cff9d1b11c',\r\n        //     msg: 'LogIn-17816549-8c50-98b7-f684-163d8e0eaea4',\r\n        // }\r\n        // axios({\r\n        //     method: 'POST',\r\n        //     url: 'https://metamon-api.radiocaca.com/usm-api/login',\r\n        //     data: formData,\r\n        //     headers: {\r\n        //         \"Content-Type\": \"multipart/form-data\",\r\n        //     }\r\n        // }).then(function (response) {\r\n        //     console.log(response.data)\r\n        //     const formData1 = new FormData();\r\n        //     formData1.append('address', '0x769ba0cb0d89666f7506194d2cf416ea0f812e16')\r\n        //     axios({\r\n        //         method: 'POST',\r\n        //         url: 'https://metamon-api.radiocaca.com/usm-api/getBattleRecord',\r\n        //         data: formData1,\r\n        //         headers: {\r\n        //             \"accessToken\": response.data.data\r\n        //         }\r\n        //     }).then(function (response) {\r\n        //         console.log(response);\r\n        //     })\r\n        // })\r\n        // .catch(function (error) {\r\n        //     console.log(error);\r\n        // });\r\n        const rerender = setInterval(() => {\r\n            getData();\r\n            convertDateTime();\r\n        }, 20000)\r\n\r\n        return () => {\r\n            setListMetamon([])\r\n            setListDiamond([])\r\n            setListEgg([])\r\n            setListPotion([])\r\n            setKissUpLand({})\r\n            setTokenPrice(0)\r\n            clearInterval(rerender);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div hidden={hidden}>\r\n            <div>\r\n                <p className='tokenPrice'>RACA Price: {raca}</p>\r\n                <p className='tokenPrice'>ELMON Price: {elmon}</p>\r\n            </div>\r\n\r\n            <SwapRacaToUSD />\r\n            <p id='timeUpdated'>{timeUpdated}</p>\r\n            <div className='pricetable'>\r\n                <TableContainer id='table-scroll' component={Paper}>\r\n                    <Table id='tablePrice' aria-label=\"simple table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell align=\"center\">#</TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <img width='50px' height='50px' src='/marketplaceraca/metamon.png' alt='Metamon' />\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <img width='50px' height='50px' src='/marketplaceraca/MetamonEgg.png' alt='Egg' />\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <img width='50px' height='50px' src='/marketplaceraca/DiamondYellow.png' alt='DiamondYellow' />\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <img style={{ objectFit: 'contain' }} width='50px' height='50px' src='/marketplaceraca/potion.png' alt='Potion' />\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {listEgg && listMetamon && listDiamond && listPotion && listEgg.map((child, index) => {\r\n                                return (\r\n                                    <TableRow key={index + 1}>\r\n                                        <TableCell align=\"center\" component=\"th\" scope=\"row\">{index + 1}</TableCell>\r\n                                        <TableCell align=\"center\">{numberWithCommas(Math.floor(listMetamon[index]?.fixed_price))} (~{(tokenPrice * listMetamon[index]?.fixed_price).toFixed(2)})</TableCell>\r\n                                        <TableCell align=\"center\">{numberWithCommas(Math.floor(listEgg[index]?.fixed_price))} (~{(tokenPrice * listEgg[index]?.fixed_price).toFixed(2)})</TableCell>\r\n                                        <TableCell align=\"center\">{numberWithCommas(Math.floor(listDiamond[index]?.fixed_price))} (~{(tokenPrice * listDiamond[index]?.fixed_price).toFixed(2)})</TableCell>\r\n                                        <TableCell align=\"center\">{numberWithCommas(Math.floor(listPotion[index]?.fixed_price))} (~{(tokenPrice * listPotion[index]?.fixed_price).toFixed(2)})</TableCell>\r\n                                    </TableRow>)\r\n                            })\r\n                            }\r\n\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                <div id='xike'>\r\n                    <p>Xìke Captain</p>\r\n                    <img alt='Xike' src='/marketplaceraca/xike.png' />\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"cards\">\r\n                {listMetamon[0] &&\r\n                    <React.StrictMode>\r\n                        <div className=\"card\">\r\n                            {listMetamon[0] && <Card nft={listMetamon[0]}></Card>}\r\n                        </div>\r\n                        <div className=\"card\">\r\n                            {listMetamon[1] && <Card nft={listMetamon[1]}></Card>}\r\n                        </div>\r\n                        <div className=\"card\">\r\n                            {listMetamon[2] && <Card nft={listMetamon[2]}></Card>}\r\n                        </div>\r\n                        <div className=\"card\">\r\n                            {listMetamon[3] && <Card nft={listMetamon[3]}></Card>}\r\n                        </div>\r\n                    </React.StrictMode>\r\n                }\r\n\r\n\r\n                {listEgg[0] &&\r\n                    <div className=\"card\">\r\n                        <Card nft={listEgg[0]}></Card>\r\n                    </div>}\r\n\r\n                {listDiamond[0] &&\r\n                    <div className=\"card\">\r\n                        <Card nft={listDiamond[0]} />\r\n                    </div>}\r\n\r\n                {listPotion[0] &&\r\n                    <div className=\"card\">\r\n                        <Card nft={listPotion[0]} />\r\n                    </div>}\r\n\r\n                {kissUpLand &&\r\n                    <div className=\"card loading\"><Card nft={kissUpLand}></Card>\r\n                    </div>}\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default PriceTable;"]},"metadata":{},"sourceType":"module"}