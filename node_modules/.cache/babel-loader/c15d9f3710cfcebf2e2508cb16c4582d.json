{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\minhd\\\\Desktop\\\\marketplaceraca\\\\src\\\\components\\\\Sales.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { numberWithCommas } from './NFTs/PriceTable';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction createData(name, totalSales, totalCost, totalWithdraw, percent) {\n  const sales = totalSales * percent / 100;\n  const cost = totalCost * percent / 100;\n  const profit = sales - cost;\n  const withdraw = totalWithdraw * percent / 100;\n  const remain = profit - withdraw;\n  return {\n    name,\n    sales,\n    cost,\n    profit,\n    withdraw,\n    remain\n  };\n}\n\nconst getHistory = (page, size) => {\n  return axios.get(`https://market-api.radiocaca.com/users/0x10201091597635eC7b8e208306E6aDCC7c167925/histories?pageNo=${page}&pageSize=${size}`);\n};\n\nconst Sales = () => {\n  _s();\n\n  const [listHistory, setListHistory] = useState([]);\n  const [summary, setSummary] = useState([]);\n  const [listSales, setListSales] = useState([]);\n  const [listCost, setListCost] = useState([]);\n  useEffect(() => {\n    let total = 0;\n    let currentPage = 1;\n    let listTemp = [];\n    let size = 10;\n\n    const fetchData = async () => {\n      do {\n        const response = await getHistory(currentPage, size);\n        currentPage++;\n        total = response.data.total;\n        listTemp = [...listTemp, ...response.data.list];\n      } while (listTemp.length < total);\n\n      console.log(listTemp);\n      setListHistory(listTemp);\n    };\n\n    fetchData();\n    return setListHistory([]);\n  }, []);\n  useEffect(() => {\n    const listSales = listHistory.filter(item => item.nft_token_id === 407301);\n    const listCost = listHistory.filter(item => item.nft_token_id === 403545);\n    const sumSales = listSales.reduce((prev, curr) => {\n      return prev + (Number(curr.amount) - Number(curr.fee));\n    }, 0);\n    const sumCost = listCost.reduce((prev, curr) => {\n      return prev + Number(curr.amount);\n    }, 0);\n    let withdraw = 288131;\n    setListSales(listSales);\n    setListCost(listCost);\n    setSummary([createData(\"Johny Duc\", sumSales, sumCost, withdraw, 40), createData(\"Khang Pug\", sumSales, sumCost, withdraw, 40), createData(\"Duc Professor\", sumSales, sumCost, withdraw, 20), createData(\"Total\", sumSales, sumCost, withdraw, 100)]);\n  }, [listHistory]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sales\",\n    children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 650\n        },\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Sales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Cost\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Profit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Withdraw\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Remain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: listHistory && listHistory.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n            sx: {\n              '&:last-child td, &:last-child th': {\n                border: 0\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: row.token_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: numberWithCommas(row.count)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: numberWithCommas(row.type)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: numberWithCommas(row.profit)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: numberWithCommas(row.withdraw)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: numberWithCommas(row.remain)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 33\n            }, this)]\n          }, row.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"withdraw-history\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Withdraw History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          sx: {\n            minWidth: 650\n          },\n          \"aria-label\": \"simple table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: \"Count\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: \"Directions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: \"Note\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: summary && summary.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n              sx: {\n                '&:last-child td, &:last-child th': {\n                  border: 0\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                component: \"th\",\n                scope: \"row\",\n                children: row.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: numberWithCommas(row.sales)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: numberWithCommas(row.cost)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: numberWithCommas(row.profit)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                children: numberWithCommas(row.withdraw)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 37\n              }, this)]\n            }, row.name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Sales, \"Z783Q0Y4/I4Nq6xYvC2oKkxwTqQ=\");\n\n_c = Sales;\nexport default Sales;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sales\");","map":{"version":3,"sources":["C:/Users/minhd/Desktop/marketplaceraca/src/components/Sales.js"],"names":["useEffect","useState","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","numberWithCommas","axios","createData","name","totalSales","totalCost","totalWithdraw","percent","sales","cost","profit","withdraw","remain","getHistory","page","size","get","Sales","listHistory","setListHistory","summary","setSummary","listSales","setListSales","listCost","setListCost","total","currentPage","listTemp","fetchData","response","data","list","length","console","log","filter","item","nft_token_id","sumSales","reduce","prev","curr","Number","amount","fee","sumCost","minWidth","map","row","border","token_name","count","type"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport { numberWithCommas } from './NFTs/PriceTable'\r\nimport axios from 'axios';\r\nfunction createData(name, totalSales, totalCost, totalWithdraw, percent) {\r\n    const sales = totalSales * percent / 100;\r\n    const cost = totalCost * percent / 100;\r\n    const profit = (sales - cost);\r\n    const withdraw = totalWithdraw * percent / 100;\r\n    const remain = profit - withdraw;\r\n    return { name, sales, cost, profit, withdraw, remain };\r\n}\r\n\r\nconst getHistory = (page, size) => {\r\n    return axios.get(`https://market-api.radiocaca.com/users/0x10201091597635eC7b8e208306E6aDCC7c167925/histories?pageNo=${page}&pageSize=${size}`);\r\n\r\n}\r\n\r\n\r\nconst Sales = () => {\r\n    const [listHistory, setListHistory] = useState([]);\r\n    const [summary, setSummary] = useState([])\r\n    const [listSales, setListSales] = useState([]);\r\n    const [listCost, setListCost] = useState([]);\r\n    useEffect(() => {\r\n        let total = 0;\r\n        let currentPage = 1;\r\n        let listTemp = [];\r\n        let size = 10;\r\n        const fetchData = async () => {\r\n            do {\r\n                const response = await getHistory(currentPage, size)\r\n                currentPage++;\r\n                total = response.data.total;\r\n                listTemp = [...listTemp, ...response.data.list]\r\n            } while (listTemp.length < total)\r\n            console.log(listTemp)\r\n            setListHistory(listTemp)\r\n        }\r\n        fetchData();\r\n\r\n        return (\r\n            setListHistory([])\r\n        )\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        const listSales = listHistory.filter(item => item.nft_token_id === 407301)\r\n        const listCost = listHistory.filter(item => item.nft_token_id === 403545)\r\n\r\n        const sumSales = listSales.reduce((prev, curr) => {\r\n            return prev + (Number(curr.amount) - Number(curr.fee))\r\n        }, 0);\r\n        const sumCost = listCost.reduce((prev, curr) => {\r\n            return prev + Number(curr.amount)\r\n        }, 0);\r\n        \r\n        let withdraw = 288131;\r\n        setListSales(listSales)\r\n        setListCost(listCost)\r\n\r\n        setSummary([\r\n            createData(\"Johny Duc\", sumSales, sumCost, withdraw, 40),\r\n            createData(\"Khang Pug\", sumSales, sumCost, withdraw, 40),\r\n            createData(\"Duc Professor\", sumSales, sumCost, withdraw, 20),\r\n            createData(\"Total\", sumSales, sumCost, withdraw, 100),\r\n\r\n        ]);\r\n\r\n\r\n    }, [listHistory])\r\n    return (\r\n        <div className=\"sales\">\r\n            <TableContainer component={Paper}>\r\n                <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell align=\"center\">Sales</TableCell>\r\n                            <TableCell align=\"center\">Cost</TableCell>\r\n                            <TableCell align=\"center\">Profit</TableCell>\r\n                            <TableCell align=\"center\">Withdraw</TableCell>\r\n                            <TableCell align=\"center\">Remain</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {listHistory && listHistory.map((row) => (\r\n                            <TableRow\r\n                                key={row.name}\r\n                                sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                            >\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    {row.token_name}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">{numberWithCommas(row.count)}</TableCell>\r\n                                <TableCell align=\"center\">{numberWithCommas(row.type)}</TableCell>\r\n                                <TableCell align=\"center\">{numberWithCommas(row.profit)}</TableCell>\r\n                                <TableCell align=\"center\">{numberWithCommas(row.withdraw)}</TableCell>\r\n                                <TableCell align=\"center\">{numberWithCommas(row.remain)}</TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <div id=\"withdraw-history\">\r\n                <h2>Withdraw History</h2>\r\n                <TableContainer component={Paper}>\r\n                    <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>Item</TableCell>\r\n                                <TableCell align=\"center\">Count</TableCell>\r\n                                <TableCell align=\"center\">Directions</TableCell>\r\n                                <TableCell align=\"center\">Amount</TableCell>\r\n\r\n                                <TableCell align=\"center\">Note</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {summary && summary.map((row) => (\r\n                                <TableRow\r\n                                    key={row.name}\r\n                                    sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\r\n                                >\r\n                                    <TableCell component=\"th\" scope=\"row\">\r\n                                        {row.name}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">{numberWithCommas(row.sales)}</TableCell>\r\n                                    <TableCell align=\"center\">{numberWithCommas(row.cost)}</TableCell>\r\n                                    <TableCell align=\"center\">{numberWithCommas(row.profit)}</TableCell>\r\n                                    <TableCell align=\"center\">{numberWithCommas(row.withdraw)}</TableCell>\r\n\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Sales;"]},"metadata":{},"sourceType":"module"}