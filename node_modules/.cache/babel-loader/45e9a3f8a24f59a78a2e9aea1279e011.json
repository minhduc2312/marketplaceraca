{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{useEffect,useRef,useState}from\"react\";import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Box}from'@mui/material';import{InputSelect}from\"./InputSelect\";import{numberWithCommas}from'../NFTs/PriceTable';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getData=function getData(){return axios(\"https://market-api.radiocaca.com/nft-sales?pageSize=1600&sortBy=fixed_price&order=asc&category=13&tokenId=-1\",{\"Access- Control - Allow - Origin\":\"*\"});};var getProperty=function getProperty(id){return axios(\"https://market-api.radiocaca.com/nft-sales/\".concat(id),{\"Access-Control-Allow-Origin\":\"*\"});};var Metamon=function Metamon(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lowestPrice=_useState2[0],setLowestPrice=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listProperty=_useState4[0],setListProperty=_useState4[1];// const [highestScore, setHighestScore] = useState([]);\n// const [highestLevel, setHighestLevel] = useState([]);\nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),filter=_useState6[0],setFilter=_useState6[1];console.log(filter);var callbackFunction=function callbackFunction(value){setFilter(value);};var getListMetamon=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getData().then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var data,lowest,highestLevel;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=res.data.list;lowest=data.sort(function(pre,cur){if(pre.fixed_price<cur.fixed_price){return 1;}return 0;});highestLevel=data.sort(function(pre,cur){if(pre.fixed_price<cur.fixed_price){return 1;}return 0;});lowest.length=10;setLowestPrice(lowest);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getListMetamon(){return _ref.apply(this,arguments);};}();useEffect(function(){getListMetamon();return function(){setLowestPrice([]);};},[]);useEffect(function(){//Get list property\ntry{_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var promises,promiseValues;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:promises=lowestPrice.map(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(metamon){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return getProperty(metamon.id).then(function(res){return res.data.data.properties;});case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref4.apply(this,arguments);};}());_context4.next=3;return Promise.all(promises);case 3:promiseValues=_context4.sent;promiseValues=promiseValues.map(function(item){return{score:item[4].value,level:item[2].value};});console.log(promiseValues);setListProperty(promiseValues);case 7:case\"end\":return _context4.stop();}}},_callee4);}))();}catch(err){console.log(err);}},[lowestPrice]);return/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'left'},children:[/*#__PURE__*/_jsx(InputSelect,{getFilter:callbackFunction}),/*#__PURE__*/_jsx(TableContainer,{id:\"table-scroll\",component:Paper,children:/*#__PURE__*/_jsxs(Table,{id:\"tablePrice\",\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Score\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Level\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Price\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:lowestPrice&&lowestPrice.map(function(metamon,index){var _listProperty$index,_listProperty$index2;{/* console.log(listProperty); */}return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://market.radiocaca.com/#/market-place/\".concat(metamon.id),target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",height:\"50px\",src:metamon.image_url,alt:\"Metamon\"})})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://market.radiocaca.com/#/market-place/\".concat(metamon.id),target:\"_blank\",style:{color:'#363636',textDecoration:'none'},rel:\"noreferrer\",children:metamon.token_id})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:(_listProperty$index=listProperty[index])===null||_listProperty$index===void 0?void 0:_listProperty$index.score}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:(_listProperty$index2=listProperty[index])===null||_listProperty$index2===void 0?void 0:_listProperty$index2.level}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:numberWithCommas(metamon.fixed_price)})]},index+1);})})]})})]});};export default Metamon;","map":{"version":3,"sources":["C:/Users/minhd/Desktop/marketplaceraca/src/components/Metamon/Metamon.js"],"names":["axios","React","useEffect","useRef","useState","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Box","InputSelect","numberWithCommas","getData","getProperty","id","Metamon","lowestPrice","setLowestPrice","listProperty","setListProperty","filter","setFilter","console","log","callbackFunction","value","getListMetamon","then","res","data","list","lowest","sort","pre","cur","fixed_price","highestLevel","length","promises","map","metamon","properties","Promise","all","promiseValues","item","score","level","err","textAlign","index","image_url","color","textDecoration","token_id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Box } from '@mui/material';\r\nimport { InputSelect } from \"./InputSelect\";\r\nimport { numberWithCommas } from '../NFTs/PriceTable';\r\n\r\nconst getData = () => {\r\n    return axios(`https://market-api.radiocaca.com/nft-sales?pageSize=1600&sortBy=fixed_price&order=asc&category=13&tokenId=-1`, {\r\n        \"Access- Control - Allow - Origin\": \"*\"\r\n    });\r\n}\r\n\r\nconst getProperty = (id) => {\r\n    return axios(`https://market-api.radiocaca.com/nft-sales/${id}`, {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    });\r\n}\r\nconst Metamon = () => {\r\n    const [lowestPrice, setLowestPrice] = useState([]);\r\n    const [listProperty, setListProperty] = useState([]);\r\n    // const [highestScore, setHighestScore] = useState([]);\r\n    // const [highestLevel, setHighestLevel] = useState([]);\r\n    const [filter, setFilter] = useState(0)\r\n\r\n    console.log(filter);\r\n    const callbackFunction = (value) => {\r\n        setFilter(value)\r\n    }\r\n    const getListMetamon = async () => {\r\n        await getData().then(async (res) => {\r\n            const data = res.data.list;\r\n            let lowest = data.sort((pre, cur) => {\r\n                if (pre.fixed_price < cur.fixed_price) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            })\r\n            let highestLevel = data.sort((pre, cur) => {\r\n                if (pre.fixed_price < cur.fixed_price) {\r\n                    return 1;\r\n                }\r\n                return 0;\r\n            })\r\n            lowest.length = 10;\r\n\r\n            setLowestPrice(lowest);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        getListMetamon();\r\n        return () => {\r\n            setLowestPrice([]);\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        //Get list property\r\n        try {\r\n            (async () => {\r\n                const promises = lowestPrice.map(async (metamon) => {\r\n                    return await getProperty(metamon.id).then(res => res.data.data.properties)\r\n                })\r\n                let promiseValues = await Promise.all(promises);\r\n                promiseValues = promiseValues.map(item => {\r\n                    return {\r\n                        score: item[4].value,\r\n                        level: item[2].value,\r\n                    }\r\n                })\r\n                console.log(promiseValues);\r\n                setListProperty(promiseValues);\r\n            })();\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n\r\n    }, [lowestPrice]);\r\n\r\n    return (\r\n        <Box sx={{ textAlign: 'left' }}>\r\n            <InputSelect getFilter={callbackFunction} />\r\n            <TableContainer id='table-scroll' component={Paper}>\r\n                <Table id='tablePrice' aria-label=\"simple table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell align=\"center\">#</TableCell>\r\n                            <TableCell align=\"center\">\r\n\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                ID\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                Score\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                Level\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                Price\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {lowestPrice && lowestPrice.map((metamon, index) => {\r\n\r\n                            {/* console.log(listProperty); */ }\r\n                            return (\r\n                                <TableRow key={index + 1}>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">{index + 1}</TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                                        <a href={`https://market.radiocaca.com/#/market-place/${metamon.id}`} target='_blank' rel=\"noreferrer\">\r\n\r\n                                            <img width='50px' height='50px' src={metamon.image_url} alt='Metamon' />\r\n                                        </a>\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                                        <a href={`https://market.radiocaca.com/#/market-place/${metamon.id}`} target='_blank'\r\n                                            style={{ color: '#363636', textDecoration: 'none' }}\r\n                                            rel=\"noreferrer\"\r\n                                        >\r\n                                            {metamon.token_id}</a></TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">{listProperty[index]?.score}</TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">{listProperty[index]?.level}</TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">{numberWithCommas(metamon.fixed_price)}</TableCell>\r\n                                </TableRow>\r\n                            )\r\n                        })}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </Box>\r\n\r\n    )\r\n}\r\n\r\nexport default Metamon;\r\n\r\n"]},"metadata":{},"sourceType":"module"}