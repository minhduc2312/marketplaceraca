{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/minhd/Desktop/marketplaceraca/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import React,{createElement,useEffect,useState}from\"react\";import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Box,cardClasses}from'@mui/material';import{InputSelect}from\"./InputSelect\";import{numberWithCommas}from'../NFTs/PriceTable';import{useDispatch,useSelector}from\"react-redux\";import'../../styles/metamon.css';import{handleArrange}from\"../../app/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getData=function getData(){var minScore=arguments.length>0&&arguments[0]!==undefined?arguments[0]:315;var level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var pageNo=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;return axios(\"https://market-api.radiocaca.com/nft-sales?saleType&category=13&tokenType&tokenId=-1&pageNo=\".concat(pageNo,\"&pageSize=100&sortBy=single_price&order=asc&min_level=\").concat(level,\"&max_level=60&min_score=\").concat(minScore,\"&max_score=330\"),{\"Access-Control-Allow-Origin\":\"*\"});};var Metamon=function Metamon(){var _useSelector=useSelector(function(state){return state.filters;}),minScore=_useSelector.minScore,level=_useSelector.level,arrange=_useSelector.arrange;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listMetamon=_useState2[0],setListMetamon=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listShow=_useState4[0],setListShow=_useState4[1];var dispatch=useDispatch();var _useSelector2=useSelector(function(state){return state.price;}),raca=_useSelector2.raca;var showInfo=function showInfo(e){};var getListMetamon=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getData(minScore,level,1).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var data,listData,i,list;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=res.data;listData=res.data.list;// console.log(data.list.total)\ni=1;case 3:if(!(i<=Math.floor(data.total/100))){_context.next=11;break;}_context.next=6;return getData(minScore,level,i+1).then(function(res){return res.data.list;});case 6:list=_context.sent;listData=listData.concat(list);// console.log(listData)\ncase 8:i++;_context.next=3;break;case 11:setListMetamon(listData);case 12:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function getListMetamon(){return _ref.apply(this,arguments);};}();useEffect(function(){getListMetamon();dispatch(handleArrange(0));return function(){setListMetamon([]);};},[minScore,level]);useEffect(function(){//Get list property\nvar sortBy=function sortBy(filter){return listMetamon.sort(function(a,b){if(filter==='fixed_price'){return Number(a[filter])-Number(b[filter]);}else{return Number(b[filter])-Number(a[filter]);}});};switch(arrange){case 0:setListShow(sortBy('fixed_price').slice(0,10));break;case 1:setListShow(sortBy('level').slice(0,10));break;case 2:setListShow(sortBy('score').slice(0,10));break;default:break;}return function(){setListShow([]);};},[listMetamon,arrange]);return/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'left'},children:[/*#__PURE__*/_jsx(InputSelect,{}),/*#__PURE__*/_jsx(TableContainer,{id:\"table-scroll\",component:Paper,children:/*#__PURE__*/_jsxs(Table,{id:\"tablePrice\",\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"#\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Score\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Level\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",sx:{width:'25%'},children:\"Price\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:listShow&&listShow.map(function(metamon,index){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(TableCell,{id:\"metamon-\".concat(index+1),onMouseEnter:showInfo,align:\"center\",component:\"th\",scope:\"row\",sx:{position:'relative'},children:/*#__PURE__*/_jsx(\"img\",{width:\"50px\",height:\"50px\",src:metamon.image_url,alt:\"Metamon\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:/*#__PURE__*/_jsx(\"a\",{href:\"https://market.radiocaca.com/#/market-place/\".concat(metamon.id),target:\"_blank\",style:{color:'#fff',textDecoration:'none'},rel:\"noreferrer\",children:metamon.token_id})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:metamon===null||metamon===void 0?void 0:metamon.score}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:metamon===null||metamon===void 0?void 0:metamon.level}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:[numberWithCommas(metamon.fixed_price),\" (~\",(raca*metamon.fixed_price).toFixed(2),\")\"]})]},index+1);})})]})})]});};export default Metamon;","map":{"version":3,"sources":["C:/Users/minhd/Desktop/marketplaceraca/src/components/Metamon/Metamon.js"],"names":["axios","React","createElement","useEffect","useState","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Box","cardClasses","InputSelect","numberWithCommas","useDispatch","useSelector","handleArrange","getData","minScore","level","pageNo","Metamon","state","filters","arrange","listMetamon","setListMetamon","listShow","setListShow","dispatch","price","raca","showInfo","e","getListMetamon","then","res","data","listData","list","i","Math","floor","total","concat","sortBy","filter","sort","a","b","Number","slice","textAlign","width","map","metamon","index","position","image_url","id","color","textDecoration","token_id","score","fixed_price","toFixed"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { createElement, useEffect, useState } from \"react\";\r\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Box, cardClasses } from '@mui/material';\r\nimport { InputSelect } from \"./InputSelect\";\r\nimport { numberWithCommas } from '../NFTs/PriceTable';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport '../../styles/metamon.css'\r\nimport { handleArrange } from \"../../app/actions\";\r\n\r\n\r\nconst getData = (minScore = 315, level = 1, pageNo = 1) => {\r\n    return axios(`https://market-api.radiocaca.com/nft-sales?saleType&category=13&tokenType&tokenId=-1&pageNo=${pageNo}&pageSize=100&sortBy=single_price&order=asc&min_level=${level}&max_level=60&min_score=${minScore}&max_score=330`, {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n    });\r\n}\r\n\r\nconst Metamon = () => {\r\n    const { minScore, level, arrange } = useSelector(state => state.filters)\r\n\r\n    const [listMetamon, setListMetamon] = useState([])\r\n    const [listShow, setListShow] = useState([])\r\n    const dispatch = useDispatch();\r\n    const { raca } = useSelector(state => state.price);\r\n\r\n    const showInfo = (e) => {\r\n    }\r\n    const getListMetamon = async () => {\r\n        await getData(minScore, level, 1).then(async (res) => {\r\n            const data = res.data;\r\n            let listData = res.data.list\r\n            // console.log(data.list.total)\r\n            for (let i = 1; i <= Math.floor(data.total / 100); i++) {\r\n                const list = await getData(minScore, level, i + 1).then(res => res.data.list);\r\n                listData = listData.concat(list)\r\n                // console.log(listData)\r\n            }\r\n            setListMetamon(listData)\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        getListMetamon();\r\n        dispatch(handleArrange(0));\r\n        return () => {\r\n            setListMetamon([])\r\n        }\r\n    }, [minScore, level])\r\n    useEffect(() => {\r\n        //Get list property\r\n        const sortBy = (filter) => {\r\n            return listMetamon.sort((a, b) => {\r\n                if (filter === 'fixed_price') {\r\n                    return Number(a[filter]) - Number(b[filter])\r\n                } else {\r\n                    return Number(b[filter]) - Number(a[filter])\r\n                }\r\n            });\r\n        }\r\n\r\n        switch (arrange) {\r\n            case 0:\r\n                setListShow(sortBy('fixed_price').slice(0, 10));\r\n                break;\r\n            case 1:\r\n                setListShow(sortBy('level').slice(0, 10));\r\n                break;\r\n            case 2:\r\n                setListShow(sortBy('score').slice(0, 10));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        return () => {\r\n            setListShow([])\r\n        }\r\n    }, [listMetamon, arrange]);\r\n\r\n    return (\r\n        <Box sx={{ textAlign: 'left' }}>\r\n            <InputSelect />\r\n            <TableContainer id='table-scroll' component={Paper}>\r\n                <Table id='tablePrice' aria-label=\"simple table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell align=\"center\">#</TableCell>\r\n                            <TableCell align=\"center\">\r\n\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                ID\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                Score\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                                Level\r\n                            </TableCell>\r\n                            <TableCell align=\"center\" sx={{ width: '25%' }}>\r\n                                Price\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {listShow && listShow.map((metamon, index) => {\r\n                            return (\r\n                                <TableRow key={index + 1}>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">{index + 1}</TableCell>\r\n                                    <TableCell id={`metamon-${index + 1}`} onMouseEnter={showInfo} align=\"center\" component=\"th\" scope=\"row\" sx={{ position: 'relative' }}>\r\n                                        <img width='50px' height='50px' src={metamon.image_url} alt='Metamon' />\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                                        <a href={`https://market.radiocaca.com/#/market-place/${metamon.id}`} target='_blank'\r\n                                            style={{ color: '#fff', textDecoration: 'none' }}\r\n                                            rel=\"noreferrer\"\r\n                                        >\r\n                                            {metamon.token_id}</a></TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">{metamon?.score}</TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">{metamon?.level}</TableCell>\r\n                                    <TableCell align=\"center\" component=\"th\" scope=\"row\">{numberWithCommas(metamon.fixed_price)} (~{(raca * metamon.fixed_price).toFixed(2)})</TableCell>\r\n                                </TableRow>\r\n                            )\r\n                        })}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Metamon;\r\n\r\n"]},"metadata":{},"sourceType":"module"}