{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\minhd\\\\Desktop\\\\marketplaceraca\\\\src\\\\context\\\\AppContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect, useState } from 'react';\nimport useRouter from './useRouter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/createContext();\nexport const AppProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [appStatus, setAppStatus] = useState('loading');\n  const [currentAccount, setCurrentAccount] = useState('');\n  useEffect(() => {\n    checkIfWalletConnected();\n  }, []);\n\n  const checkIfWalletConnected = async () => {\n    if (!window.ethereum) return;\n\n    try {\n      const addressArray = await window.ethereum.request({\n        method: 'eth_accounts'\n      });\n\n      if (addressArray.length > 0) {\n        //connected\n        console.log(window.ethereum);\n        setAppStatus('connected');\n        setCurrentAccount(addressArray[0]);\n      } else {\n        // not connected\n        setAppStatus('not-connected');\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const connectToWallet = async () => {\n    if (!window.ethereum) return setAppStatus('noMetamask');\n\n    try {\n      setAppStatus('loading');\n      console.log(window.ethereum);\n      const addressArray = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n\n      if (addressArray.length > 0) {\n        setCurrentAccount(addressArray[0]);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      appStatus,\n      currentAccount,\n      connectToWallet\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AppProvider, \"oBR5NRZsmTF7ACYyEwJIsws0nH4=\");\n\n_c = AppProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"sources":["C:/Users/minhd/Desktop/marketplaceraca/src/context/AppContext.js"],"names":["createContext","useEffect","useState","useRouter","AppContext","AppProvider","children","appStatus","setAppStatus","currentAccount","setCurrentAccount","checkIfWalletConnected","window","ethereum","addressArray","request","method","length","console","log","err","connectToWallet"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,SAAP,MAAuB,aAAvB;;AACA,OAAO,MAAMC,UAAU,gBAAGJ,aAAa,EAAhC;AAEP,OAAO,MAAMK,WAAW,GAAG,QAAkB;AAAA;;AAAA,MAAjB;AAAEC,IAAAA;AAAF,GAAiB;AACzC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,SAAD,CAA1C;AACA,QAAM,CAACO,cAAD,EAAiBC,iBAAjB,IAAsCR,QAAQ,CAAC,EAAD,CAApD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZU,IAAAA,sBAAsB;AAEzB,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMA,sBAAsB,GAAG,YAAY;AACvC,QAAI,CAACC,MAAM,CAACC,QAAZ,EAAsB;;AACtB,QAAI;AACA,YAAMC,YAAY,GAAG,MAAMF,MAAM,CAACC,QAAP,CAAgBE,OAAhB,CAAwB;AAC/CC,QAAAA,MAAM,EAAE;AADuC,OAAxB,CAA3B;;AAGA,UAAIF,YAAY,CAACG,MAAb,GAAsB,CAA1B,EAA6B;AACzB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACC,QAAnB;AAEAL,QAAAA,YAAY,CAAC,WAAD,CAAZ;AACAE,QAAAA,iBAAiB,CAACI,YAAY,CAAC,CAAD,CAAb,CAAjB;AACH,OAND,MAMO;AACH;AAEAN,QAAAA,YAAY,CAAC,eAAD,CAAZ;AACH;AACJ,KAfD,CAeE,OAAOY,GAAP,EAAY;AACVF,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACH;AACJ,GApBD;;AAsBA,QAAMC,eAAe,GAAG,YAAY;AAChC,QAAI,CAACT,MAAM,CAACC,QAAZ,EAAsB,OAAOL,YAAY,CAAC,YAAD,CAAnB;;AACtB,QAAI;AACAA,MAAAA,YAAY,CAAC,SAAD,CAAZ;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACC,QAAnB;AACA,YAAMC,YAAY,GAAG,MAAMF,MAAM,CAACC,QAAP,CAAgBE,OAAhB,CAAwB;AAC/CC,QAAAA,MAAM,EAAE;AADuC,OAAxB,CAA3B;;AAGA,UAAIF,YAAY,CAACG,MAAb,GAAsB,CAA1B,EAA6B;AACzBP,QAAAA,iBAAiB,CAACI,YAAY,CAAC,CAAD,CAAb,CAAjB;AACH;AACJ,KATD,CASE,OAAOM,GAAP,EAAY;AACVF,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACH;AACJ,GAdD;;AAgBA,sBACI,QAAC,UAAD,CAAY,QAAZ;AAAqB,IAAA,KAAK,EAAE;AAACb,MAAAA,SAAD;AAAWE,MAAAA,cAAX;AAA0BY,MAAAA;AAA1B,KAA5B;AAAA,cAAyEf;AAAzE;AAAA;AAAA;AAAA;AAAA,UADJ;AAGH,CAlDM;;GAAMD,W;;KAAAA,W","sourcesContent":["import { createContext, useEffect, useState } from 'react'\r\nimport useRouter  from './useRouter'\r\nexport const AppContext = createContext();\r\n\r\nexport const AppProvider = ({ children }) => {\r\n    const [appStatus, setAppStatus] = useState('loading')\r\n    const [currentAccount, setCurrentAccount] = useState('');\r\n\r\n    useEffect(() => {\r\n        checkIfWalletConnected();\r\n        \r\n    }, [])\r\n\r\n    const checkIfWalletConnected = async () => {\r\n        if (!window.ethereum) return;\r\n        try {\r\n            const addressArray = await window.ethereum.request({\r\n                method: 'eth_accounts',\r\n            })\r\n            if (addressArray.length > 0) {\r\n                //connected\r\n                console.log(window.ethereum)\r\n\r\n                setAppStatus('connected');\r\n                setCurrentAccount(addressArray[0]);\r\n            } else {\r\n                // not connected\r\n\r\n                setAppStatus('not-connected');\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    const connectToWallet = async () => {\r\n        if (!window.ethereum) return setAppStatus('noMetamask')\r\n        try {\r\n            setAppStatus('loading');\r\n            console.log(window.ethereum)\r\n            const addressArray = await window.ethereum.request({\r\n                method: 'eth_requestAccounts',\r\n            })\r\n            if (addressArray.length > 0) {\r\n                setCurrentAccount(addressArray[0])\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <AppContext.Provider value={{appStatus,currentAccount,connectToWallet}}>{children}</AppContext.Provider>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}